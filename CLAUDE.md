# Контекст проекта для AI-ассистентов

## Обзор проекта
Это система управления бизнес-чатами для WhatsApp и Telegram. Проект позволяет вести переписку с клиентами, управлять заказами и товарами через единый интерфейс.

## Ключевые особенности для разработки

### Текущие проблемы безопасности
- **КРИТИЧНО**: API ключи Supabase захардкожены в коде
- Отсутствует система аутентификации
- Нет валидации пользовательского ввода

### Структура данных
- Dual-mode система: demo (localStorage) и production (Supabase)
- Основные сущности: chats, messages, customers, products, orders
- Связи: orders -> chats -> customers, order_items -> products

### Технические детали
- React 18 + TypeScript + Vite
- UI: Tailwind CSS + shadcn/ui
- State: React Query для API, локальный state для UI
- Routing: React Router v6 с SPA поддержкой

### Соглашения по коду
- Компоненты в PascalCase
- Хуки начинаются с use
- Утилиты в camelCase
- Интерфейс на русском языке, код и комментарии на английском

### При внесении изменений
1. Всегда проверяйте, что не ломаете demo режим
2. Сохраняйте совместимость с существующей структурой БД
3. Используйте существующие UI компоненты из shadcn/ui
4. Следуйте паттернам, установленным в проекте

### Команды для работы
```bash
npm run dev      # Запуск dev сервера
npm run build    # Сборка для продакшна
npm run lint     # Проверка кода
```

### Важные файлы
- `/src/hooks/api/useApiQuery.ts` - основная логика работы с API
- `/src/utils/demoData.ts` - данные для demo режима
- `/src/integrations/supabase/` - типы и клиент Supabase
- `/TODO.md` - актуальный план задач

### Known issues
- Select компоненты требуют непустые значения
- DEBUG mode включен постоянно
- Нет обработки сетевых ошибок

## Приоритеты при разработке
1. Безопасность (убрать hardcoded ключи)
2. Стабильность (error handling)
3. UX (loading states, error messages)
4. Производительность (оптимизации)
5. Новые фичи